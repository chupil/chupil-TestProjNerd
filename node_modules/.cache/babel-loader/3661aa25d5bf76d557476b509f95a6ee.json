{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Yura\\\\Desktop\\\\test\\\\testtask\\\\src\\\\components\\\\task.component.js\";\nimport React, { Component, Fragment } from \"react\";\nimport $ from 'jquery';\nexport default class SignUp extends Component {\n  constructor(props) {\n    super(props);\n    this.onChangeText = this.onChangeText.bind(this);\n    this.saveText = this.saveText.bind(this);\n    this.delitedText = this.delitedText.bind(this);\n    this.editText = this.editText.bind(this);\n    this.dropdownsendUser = this.dropdownsendUser.bind(this);\n    this.sendTask = this.sendTask.bind(this);\n    this.state = {\n      save: false,\n      newTaskId: [],\n      userOldData: [],\n      usersMails: [],\n      userNewData: [],\n      delitedText: false,\n      editText: false,\n      edit: ''\n    };\n  }\n\n  dropdownsendUser(e) {\n    $().dropdown('show');\n  }\n\n  onChangeText(e) {\n    this.setState({\n      newTaskId: [{\n        id: `f${(+new Date()).toString(16)}`,\n        mes: e.target.value\n      }],\n      edit: e.target.value\n    });\n  }\n\n  sendTask(text, account, e) {\n    var accountData = [];\n    accountData = JSON.parse(localStorage.getItem(account.email));\n\n    if (accountData.text.length != 0) {\n      Array.prototype.push.apply(accountData.text, text);\n    }\n\n    localStorage.setItem(account.email, JSON.stringify(accountData));\n  }\n\n  saveText(text, e) {\n    if (this.state.editText == true) {\n      for (var i = 0; i < this.state.userOldData.text.length; i++) {\n        if (this.state.userOldData.text[i].id == text.id) {\n          this.state.userOldData.text[i].mes = this.state.edit;\n        }\n      }\n    } else if (this.state.userOldData.text.length != 0) {\n      Array.prototype.push.apply(this.state.userOldData.text, this.state.newTaskId);\n    }\n\n    localStorage.setItem(this.props.user.email, JSON.stringify(this.state.userOldData));\n    this.setState({\n      save: !this.state.save,\n      editText: false\n    });\n    e.preventDefault();\n  }\n\n  delitedText(text, e) {\n    var newArray = [];\n\n    for (var i = 0; i < this.state.userOldData.text.length; i++) {\n      if (this.state.userOldData.text[i].id != text.id) {\n        newArray.push(this.state.userOldData.text[i]);\n      }\n    }\n\n    var oldData = this.state.userOldData;\n    oldData.text = newArray;\n    var newDelData = oldData;\n    localStorage.setItem(this.props.user.email, JSON.stringify(newDelData));\n    this.state.userOldData = JSON.parse(localStorage.getItem(this.props.user.email));\n    this.setState({\n      userNewData: this.state.userOldData,\n      delitedText: !this.state.delitedText\n    });\n    e.preventDefault();\n  }\n\n  editText() {\n    this.setState({\n      editText: !this.state.editText\n    });\n  }\n\n  componentDidMount() {\n    this.state.userOldData = JSON.parse(localStorage.getItem(this.props.user.email));\n    this.state.usersMails = JSON.parse(localStorage.getItem(\"accounts\"));\n    this.setState({\n      userNewData: this.state.userOldData\n    });\n  }\n\n  componentDidUpdate(prevProps, prevState) {}\n\n  render() {\n    return /*#__PURE__*/React.createElement(Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 11\n      }\n    }, this.state.userOldData.text && this.state.userOldData.text.map((text, index) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        class: \"col-sm multi\",\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 1\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"container mb-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 1\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        class: \"btn btn-sm btn-outline-secondary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 1\n        }\n      }, this.props.user.name)), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 1\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"col-md-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 3\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"card mb-4 box-shadow\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"card-body\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"form\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }\n      }, this.state.editText || text.mes.length == 0 ? /*#__PURE__*/React.createElement(\"div\", {\n        class: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"textarea\", {\n        class: \"form-control\",\n        id: \"textMes\",\n        \"aria-label\": \"With textarea\",\n        rows: \"6\",\n        wrap: true,\n        onChange: e => {\n          this.onChangeText(e, \"textMes\");\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 13\n        }\n      })) : /*#__PURE__*/React.createElement(\"div\", {\n        class: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"textarea\", {\n        class: \"form-control height\",\n        rows: \"6\",\n        wrap: true,\n        value: text.mes,\n        disabled: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 13\n        }\n      }, \" \")))), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"d-flex justify-content-between align-items-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"btn-group mt-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        class: \"btn btn-sm btn-outline-secondary\",\n        onClick: e => {\n          this.saveText(text, e);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 13\n        }\n      }, \"Save\"), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        class: \"btn btn-sm btn-outline-secondary\",\n        disabled: text.mes.length == 0,\n        onClick: e => {\n          this.delitedText(text, e);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 13\n        }\n      }, \"Delete \"), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        class: \"btn btn-sm btn-outline-secondary\",\n        disabled: text.mes.length == 0,\n        onClick: e => {\n          this.editText(text, e);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 13\n        }\n      }, \"Edit\"), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"dropdown\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        class: \"btn btn-secondary dropdown-toggle\",\n        type: \"button\",\n        id: index,\n        \"data-toggle\": \"dropdown\",\n        \"aria-haspopup\": \"true\",\n        \"aria-expanded\": \"false\",\n        onClick: e => {\n          this.dropdownsendUser(e);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 11\n        }\n      }, \"Send tasks\"), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"dropdown-menu\",\n        \"aria-labelledby\": \"dropdownMenuButton\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 13\n        }\n      }, this.state.usersMails && this.state.usersMails.map((account, index) => {\n        return /*#__PURE__*/React.createElement(\"a\", {\n          class: \"dropdown-item \",\n          href: \"#\",\n          key: index,\n          onClick: e => {\n            this.sendTask(text, account, e);\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 15\n          }\n        }, account.account, \"    \", account.email);\n      }), \";\")))), /*#__PURE__*/React.createElement(\"small\", {\n        class: \"text-muted\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 9\n        }\n      }, text.id))))));\n    }));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/Yura/Desktop/test/testtask/src/components/task.component.js"],"names":["React","Component","Fragment","$","SignUp","constructor","props","onChangeText","bind","saveText","delitedText","editText","dropdownsendUser","sendTask","state","save","newTaskId","userOldData","usersMails","userNewData","edit","e","dropdown","setState","id","Date","toString","mes","target","value","text","account","accountData","JSON","parse","localStorage","getItem","email","length","Array","prototype","push","apply","setItem","stringify","i","user","preventDefault","newArray","oldData","newDelData","componentDidMount","componentDidUpdate","prevProps","prevState","render","map","index","name"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from \"react\";\r\nimport $ from 'jquery'; \r\n\r\nexport default class SignUp extends Component {\r\n \r\nconstructor(props) {\r\n    super(props);\r\n\r\n    this.onChangeText = this.onChangeText.bind(this);\r\n    this.saveText = this.saveText.bind(this);\r\n    this.delitedText = this.delitedText.bind(this);  \r\n    this.editText = this.editText.bind(this);\r\n    this.dropdownsendUser = this.dropdownsendUser.bind(this);\r\n    this.sendTask = this.sendTask.bind(this);\r\n    this.state = {        \r\n        save: false,       \r\n        newTaskId : [] ,\r\n        userOldData : [],\r\n        usersMails :[],\r\n        userNewData : [],\r\n        delitedText :false,\r\n        editText : false,\r\n        edit : ''\r\n       \r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\ndropdownsendUser(e){\r\n $().dropdown('show')\r\n\r\n \r\n}\r\n\r\n\r\n\r\nonChangeText(e) {   \r\n  this.setState({ newTaskId :  [{\r\n    id: `f${(+new Date).toString(16)}`,\r\n    mes: e.target.value    \r\n}],\r\n edit: e.target.value\r\n });  \r\n\r\n}\r\n\r\n\r\nsendTask(text,account,e){\r\n  var accountData = [];\r\n  accountData = JSON.parse(localStorage.getItem(account.email)); \r\n  if(accountData.text.length != 0){  \r\n  Array.prototype.push.apply(accountData.text, text); \r\n  }\r\n  localStorage.setItem(account.email, JSON.stringify(accountData));\r\n\r\n}\r\n\r\n\r\nsaveText(text,e) {    \r\n  if(this.state.editText == true){    \r\n    for( var i = 0; i <  this.state.userOldData.text.length; i++){    \r\n      if( this.state.userOldData.text[i].id == text.id){\r\n        this.state.userOldData.text[i].mes = this.state.edit;           \r\n       }     \r\n    }      \r\n   } else if(this.state.userOldData.text.length != 0){  \r\n  Array.prototype.push.apply(this.state.userOldData.text, this.state.newTaskId); \r\n  }\r\n\r\n  localStorage.setItem(this.props.user.email, JSON.stringify(this.state.userOldData));\r\n  this.setState({save:!this.state.save, editText : false }); \r\n  e.preventDefault();\r\n}\r\n   \r\ndelitedText(text,e) {\r\n  var newArray =[]; \r\n   for( var i = 0; i <  this.state.userOldData.text.length; i++){    \r\n       if( this.state.userOldData.text[i].id != text.id){\r\n        newArray.push(this.state.userOldData.text[i]);\r\n        }           \r\n    } \r\n    var oldData =   this.state.userOldData;\r\n    oldData.text = newArray;\r\n    var  newDelData = oldData;\r\n   localStorage.setItem(this.props.user.email, JSON.stringify(newDelData));\r\n   this.state.userOldData = JSON.parse(localStorage.getItem(this.props.user.email));     \r\n   this.setState({ userNewData :  this.state.userOldData, delitedText:!this.state.delitedText });  \r\n   e.preventDefault();\r\n}\r\n\r\neditText(){\r\n  this.setState({editText : !this.state.editText});\r\n\r\n}\r\n\r\n\r\n\r\ncomponentDidMount(){\r\n    this.state.userOldData = JSON.parse(localStorage.getItem(this.props.user.email)); \r\n    this.state.usersMails = JSON.parse(localStorage.getItem(\"accounts\"));     \r\n    this.setState({ userNewData :  this.state.userOldData });\r\n    \r\n  }\r\n\r\n\r\n componentDidUpdate(prevProps, prevState) {\r\n }\r\n\r\n\r\n\r\n    render() {\r\n \r\n   \r\n \r\n \r\n        return (\r\n\r\n          <Fragment> \r\n{ this.state.userOldData.text && this.state.userOldData.text.map((text,index) => { \r\n  \r\n\r\n    return (        \r\n<div class=\"col-sm multi\" key={index}>\r\n<div  class=\"container mb-1\"  >\r\n<h1 class=\"btn btn-sm btn-outline-secondary\">{this.props.user.name}</h1></div>\r\n\r\n\r\n<div class=\"row\"  >\r\n \r\n  <div class=\"col-md-4\" >\r\n    <div class=\"card mb-4 box-shadow\">      \r\n      <div class=\"card-body\"  > \r\n        \r\n        <form >\r\n          <div class=\"row\">\r\n          {this.state.editText || text.mes.length ==0 ? \r\n            <div class=\"col\">            \r\n            <textarea class=\"form-control\" id=\"textMes\" aria-label=\"With textarea\" rows=\"6\" \r\n            wrap   \r\n              onChange={(e) => {this.onChangeText(e, \"textMes\") }}></textarea>\r\n            </div> \r\n:\r\n            <div class=\"col\">\r\n            <textarea class=\"form-control height\"  rows=\"6\"  wrap  value={text.mes} disabled   > </textarea>\r\n            </div>}\r\n            \r\n           \r\n          </div>\r\n        </form>\r\n        \r\n        <div class=\"d-flex justify-content-between align-items-center\">\r\n          <div class=\"btn-group mt-1\">\r\n            <button type=\"button\" class=\"btn btn-sm btn-outline-secondary\"  onClick={(e)=> {this.saveText(text,e)}}>Save</button>\r\n            <button type=\"button\" class=\"btn btn-sm btn-outline-secondary\"  disabled = {text.mes.length == 0} onClick={(e)=> {this.delitedText(text,e)}} >Delete </button>\r\n            <button type=\"button\" class=\"btn btn-sm btn-outline-secondary\"  disabled = {text.mes.length == 0} onClick={(e)=> {this.editText(text,e)}} >Edit</button>\r\n           \r\n            <div class=\"dropdown\">\r\n          <button class=  \"btn btn-secondary dropdown-toggle\"\r\n          type=\"button\" id={index} data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\"\r\n          onClick={(e)=> {this.dropdownsendUser(e)}} >\r\n            Send tasks\r\n          </button>\r\n            <div class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\" >\r\n\r\n         \r\n            {this.state.usersMails && this.state.usersMails.map((account,index)=>{\r\n              return (   \r\n              <a class=\"dropdown-item \" href=\"#\" key={index} onClick={(e)=> {this.sendTask(text,account,e)}} >{account.account}    {account.email}</a>\r\n              )})};           \r\n              \r\n\r\n              \r\n             </div>\r\n</div>\r\n          </div>          \r\n         \r\n        </div>\r\n        <small class=\"text-muted\">{text.id}</small>         \r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n\r\n</div>\r\n\r\n\r\n</div>)})}\r\n</Fragment>\r\n\r\n\r\n        );\r\n    }\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}