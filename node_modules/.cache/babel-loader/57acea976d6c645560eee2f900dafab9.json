{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\Yura\\\\Desktop\\\\test\\\\react-login-signup-ui-template\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Yura\\\\Desktop\\\\test\\\\react-login-signup-ui-template\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\Yura\\\\Desktop\\\\test\\\\react-login-signup-ui-template\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _createSuper from\"C:\\\\Users\\\\Yura\\\\Desktop\\\\test\\\\react-login-signup-ui-template\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import _inherits from\"C:\\\\Users\\\\Yura\\\\Desktop\\\\test\\\\react-login-signup-ui-template\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component,Fragment}from\"react\";import $ from'jquery';var SignUp=/*#__PURE__*/function(_Component){_inherits(SignUp,_Component);var _super=_createSuper(SignUp);function SignUp(props){var _this;_classCallCheck(this,SignUp);_this=_super.call(this,props);_this.onChangeText=_this.onChangeText.bind(_assertThisInitialized(_this));_this.saveText=_this.saveText.bind(_assertThisInitialized(_this));_this.delitedText=_this.delitedText.bind(_assertThisInitialized(_this));_this.editText=_this.editText.bind(_assertThisInitialized(_this));_this.dropdownsendUser=_this.dropdownsendUser.bind(_assertThisInitialized(_this));_this.sendTask=_this.sendTask.bind(_assertThisInitialized(_this));_this.state={save:false,newTaskId:[],userOldData:[],usersMails:[],userNewData:[],delitedText:false,editText:false,edit:'',sendTask:[]};return _this;}_createClass(SignUp,[{key:\"dropdownsendUser\",value:function dropdownsendUser(e){$().dropdown('show');}},{key:\"onChangeText\",value:function onChangeText(e){this.setState({newTaskId:[{id:\"f\".concat((+new Date()).toString(16)),mes:e.target.value,creator:this.state.userOldData.email,prevOwner:[],newOwner:[]}],edit:e.target.value});}},{key:\"sendTask\",value:function sendTask(text,account,e){text.newOwner=account.email;text.prevOwner=this.state.userOldData.email;var accountData=JSON.parse(localStorage.getItem(account.email));if(text.mes.length!=0){Array.prototype.push.apply(accountData.text,[text]);localStorage.setItem(account.email,JSON.stringify(accountData));this.delitedText(text,e);}window.alert(\"success\"+\" \"+account.account+\" \"+account.email);}},{key:\"saveText\",value:function saveText(text,e){if(this.state.editText==true){for(var i=0;i<this.state.userOldData.text.length;i++){if(this.state.userOldData.text[i].id==text.id){this.state.userOldData.text[i].mes=this.state.edit;}}}else if(this.state.userOldData.text.length!=0){Array.prototype.push.apply(this.state.userOldData.text,this.state.newTaskId);}localStorage.setItem(this.props.user.email,JSON.stringify(this.state.userOldData));this.setState({save:!this.state.save,editText:false});e.preventDefault();}},{key:\"delitedText\",value:function delitedText(text,e){var newArray=[];for(var i=0;i<this.state.userOldData.text.length;i++){if(this.state.userOldData.text[i].id!=text.id){newArray.push(this.state.userOldData.text[i]);}}var oldData=this.state.userOldData;oldData.text=newArray;var newDelData=oldData;localStorage.setItem(this.props.user.email,JSON.stringify(newDelData));this.state.userOldData=JSON.parse(localStorage.getItem(this.props.user.email));this.setState({userNewData:this.state.userOldData,delitedText:!this.state.delitedText});e.preventDefault();}},{key:\"editText\",value:function editText(){this.setState({editText:!this.state.editText});}},{key:\"componentDidMount\",value:function componentDidMount(){this.state.userOldData=JSON.parse(localStorage.getItem(this.props.user.email));this.state.usersMails=JSON.parse(localStorage.getItem(\"accounts\"));this.setState({userNewData:this.state.userOldData});}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState){}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(Fragment,null,this.state.userOldData.text&&this.state.userOldData.text.map(function(text,index){return/*#__PURE__*/React.createElement(\"div\",{class:\"col-sm multi\",key:index},/*#__PURE__*/React.createElement(\"div\",{class:\"container mb-1\"},/*#__PURE__*/React.createElement(\"h1\",{class:\"btn btn-sm btn-outline-secondary\"},_this2.state.userOldData.name)),/*#__PURE__*/React.createElement(\"div\",{class:\"container mb-1\"}),/*#__PURE__*/React.createElement(\"div\",{class:\"row\"},/*#__PURE__*/React.createElement(\"div\",{class:\"col-md-4\"},/*#__PURE__*/React.createElement(\"div\",{class:\"card mb-4 box-shadow\"},/*#__PURE__*/React.createElement(\"div\",{class:\"card-body\"},/*#__PURE__*/React.createElement(\"form\",null,/*#__PURE__*/React.createElement(\"div\",{class:\"row\"},_this2.state.editText||text.mes.length==0?/*#__PURE__*/React.createElement(\"div\",{class:\"col\"},/*#__PURE__*/React.createElement(\"textarea\",{class:\"form-control\",id:\"textMes\",\"aria-label\":\"With textarea\",rows:\"6\",wrap:true,onChange:function onChange(e){_this2.onChangeText(e,\"textMes\");}})):/*#__PURE__*/React.createElement(\"div\",{class:\"col\"},/*#__PURE__*/React.createElement(\"textarea\",{class:\"form-control height\",rows:\"6\",wrap:true,value:text.mes,disabled:true},\" \")))),/*#__PURE__*/React.createElement(\"div\",{class:\"d-flex justify-content-between align-items-center\"},/*#__PURE__*/React.createElement(\"div\",{class:\"btn-group mt-1\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",class:\"btn btn-sm btn-outline-secondary\",onClick:function onClick(e){_this2.saveText(text,e);}},\"Save\"),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",class:\"btn btn-sm btn-outline-secondary\",disabled:text.mes.length==0,onClick:function onClick(e){_this2.delitedText(text,e);}},\"Delete \"),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",class:\"btn btn-sm btn-outline-secondary\",disabled:text.mes.length==0,onClick:function onClick(e){_this2.editText(text,e);}},\"Edit\"),/*#__PURE__*/React.createElement(\"div\",{class:\"dropdown\"},/*#__PURE__*/React.createElement(\"button\",{class:\"btn btn-secondary dropdown-toggle\",disabled:text.mes.length==0,type:\"button\",id:index,\"data-toggle\":\"dropdown\",\"aria-haspopup\":\"true\",\"aria-expanded\":\"false\",onClick:function onClick(e){_this2.dropdownsendUser(e);}},\"Send tasks\"),/*#__PURE__*/React.createElement(\"div\",{class:\"dropdown-menu\",\"aria-labelledby\":\"dropdownMenuButton\"},_this2.state.usersMails&&_this2.state.usersMails.map(function(account,index){return/*#__PURE__*/React.createElement(\"a\",{class:\"dropdown-item \",href:\"#\",key:index,onClick:function onClick(e){_this2.sendTask(text,account,e);}},account.account,\"    \",account.email);}),\";\")))),text.prevOwner&&text.prevOwner.length>0&&/*#__PURE__*/React.createElement(\"h1\",{class:\"btn btn-sm btn-warning\"},\"Get from:\",text.prevOwner))))));}));}}]);return SignUp;}(Component);export{SignUp as default};","map":{"version":3,"sources":["C:/Users/Yura/Desktop/test/react-login-signup-ui-template/src/components/task.component.js"],"names":["React","Component","Fragment","$","SignUp","props","onChangeText","bind","saveText","delitedText","editText","dropdownsendUser","sendTask","state","save","newTaskId","userOldData","usersMails","userNewData","edit","e","dropdown","setState","id","Date","toString","mes","target","value","creator","email","prevOwner","newOwner","text","account","accountData","JSON","parse","localStorage","getItem","length","Array","prototype","push","apply","setItem","stringify","window","alert","i","user","preventDefault","newArray","oldData","newDelData","prevProps","prevState","map","index","name"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from \"react\";\r\nimport $ from 'jquery'; \r\n\r\nexport default class SignUp extends Component {\r\n \r\nconstructor(props) {\r\n    super(props);\r\n\r\n    this.onChangeText = this.onChangeText.bind(this);\r\n    this.saveText = this.saveText.bind(this);\r\n    this.delitedText = this.delitedText.bind(this);  \r\n    this.editText = this.editText.bind(this);\r\n    this.dropdownsendUser = this.dropdownsendUser.bind(this);\r\n    this.sendTask = this.sendTask.bind(this);\r\n    this.state = {        \r\n        save: false,       \r\n        newTaskId : [] ,\r\n        userOldData : [],\r\n        usersMails :[],\r\n        userNewData : [],\r\n        delitedText :false,\r\n        editText : false,\r\n        edit : '',\r\n        sendTask : []\r\n       \r\n    }\r\n}\r\n\r\n\r\ndropdownsendUser(e){\r\n $().dropdown('show') \r\n}\r\n\r\nonChangeText(e) {   \r\n  this.setState({ newTaskId :  [{\r\n    id: `f${(+new Date).toString(16)}`,\r\n    mes: e.target.value,\r\n    creator:this.state.userOldData.email,\r\n    prevOwner: [],\r\n    newOwner :[],    \r\n}],\r\n edit: e.target.value\r\n });  \r\n\r\n}\r\n\r\n\r\nsendTask(text,account,e){ \r\n  text.newOwner = account.email;\r\n  text.prevOwner = this.state.userOldData.email; \r\n  var accountData = JSON.parse(localStorage.getItem(account.email)); \r\n  if(text.mes.length != 0){  \r\n  Array.prototype.push.apply(accountData.text, [text]); \r\n  localStorage.setItem(account.email, JSON.stringify(accountData));\r\n  this.delitedText(text,e);\r\n  \r\n  }\r\n  window.alert(\"success\"+ \" \"+ account.account +\" \"+ account.email);\r\n}\r\n\r\n\r\nsaveText(text,e) {    \r\n  if(this.state.editText == true){    \r\n    for( var i = 0; i <  this.state.userOldData.text.length; i++){    \r\n      if( this.state.userOldData.text[i].id == text.id){\r\n        this.state.userOldData.text[i].mes = this.state.edit;           \r\n       }     \r\n    }      \r\n   } else if(this.state.userOldData.text.length != 0){  \r\n  Array.prototype.push.apply(this.state.userOldData.text, this.state.newTaskId); \r\n  }\r\n\r\n  localStorage.setItem(this.props.user.email, JSON.stringify(this.state.userOldData));\r\n  this.setState({save:!this.state.save, editText : false }); \r\n  e.preventDefault();\r\n}\r\n   \r\ndelitedText(text,e) {\r\n  var newArray =[]; \r\n   for( var i = 0; i <  this.state.userOldData.text.length; i++){    \r\n       if( this.state.userOldData.text[i].id != text.id){\r\n        newArray.push(this.state.userOldData.text[i]);\r\n        }           \r\n    } \r\n    var oldData =   this.state.userOldData;\r\n    oldData.text = newArray;\r\n    var  newDelData = oldData;\r\n   localStorage.setItem(this.props.user.email, JSON.stringify(newDelData));\r\n   this.state.userOldData = JSON.parse(localStorage.getItem(this.props.user.email));     \r\n   this.setState({ userNewData :  this.state.userOldData, delitedText:!this.state.delitedText });  \r\n   e.preventDefault();\r\n}\r\n\r\neditText(){\r\n  this.setState({editText : !this.state.editText});\r\n\r\n}\r\n\r\n\r\n\r\ncomponentDidMount(){\r\n    this.state.userOldData = JSON.parse(localStorage.getItem(this.props.user.email)); \r\n    this.state.usersMails = JSON.parse(localStorage.getItem(\"accounts\"));     \r\n    this.setState({ userNewData :  this.state.userOldData });\r\n    \r\n  }\r\n\r\n\r\n componentDidUpdate(prevProps, prevState) {\r\n }\r\n\r\n\r\n\r\n    render() {\r\n \r\n   \r\n \r\n \r\n        return (\r\n\r\n          <Fragment> \r\n \r\n\r\n{ this.state.userOldData.text && this.state.userOldData.text.map((text,index) => { \r\n  \r\n\r\n    return (        \r\n<div class=\"col-sm multi\" key={index}>\r\n<div  class=\"container mb-1\"  >\r\n<h1 class=\"btn btn-sm btn-outline-secondary\">{this.state.userOldData.name}</h1></div>\r\n<div  class=\"container mb-1\"  >\r\n\r\n</div>\r\n\r\n<div class=\"row\"  >\r\n\r\n  <div class=\"col-md-4\" >\r\n    <div class=\"card mb-4 box-shadow\">      \r\n      <div class=\"card-body\"  > \r\n        \r\n        <form >\r\n          <div class=\"row\">\r\n          {this.state.editText || text.mes.length ==0 ? \r\n            <div class=\"col\">            \r\n            <textarea class=\"form-control\" id=\"textMes\" aria-label=\"With textarea\" rows=\"6\" \r\n            wrap   \r\n              onChange={(e) => {this.onChangeText(e, \"textMes\") }}></textarea>\r\n            </div> \r\n:\r\n            <div class=\"col\">\r\n            <textarea class=\"form-control height\"  rows=\"6\"  wrap  value={text.mes} disabled   > </textarea>\r\n            </div>}\r\n            \r\n           \r\n          </div>\r\n        </form>\r\n        \r\n        <div class=\"d-flex justify-content-between align-items-center\">\r\n          <div class=\"btn-group mt-1\">\r\n            <button type=\"button\" class=\"btn btn-sm btn-outline-secondary\"  onClick={(e)=> {this.saveText(text,e)}}>Save</button>\r\n            <button type=\"button\" class=\"btn btn-sm btn-outline-secondary\"  disabled = {text.mes.length == 0} onClick={(e)=> {this.delitedText(text,e)}} >Delete </button>\r\n            <button type=\"button\" class=\"btn btn-sm btn-outline-secondary\"  disabled = {text.mes.length == 0} onClick={(e)=> {this.editText(text,e)}} >Edit</button>\r\n           \r\n            <div class=\"dropdown\">\r\n          <button class=  \"btn btn-secondary dropdown-toggle\" disabled = {text.mes.length == 0}\r\n          type=\"button\" id={index} data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\"\r\n          onClick={(e)=> {this.dropdownsendUser(e)}} >\r\n            Send tasks\r\n          </button>\r\n            <div class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\" >\r\n\r\n         \r\n            {this.state.usersMails && this.state.usersMails.map((account,index)=>{\r\n              return (   \r\n              <a class=\"dropdown-item \" href=\"#\" key={index} onClick={(e)=> {this.sendTask(text,account,e)}} >{account.account}    {account.email}</a>\r\n              )})};           \r\n              \r\n\r\n              \r\n             </div>\r\n</div>\r\n          </div>          \r\n    \r\n        </div>\r\n        {text.prevOwner && (text.prevOwner.length>0) && <h1 class=\"btn btn-sm btn-warning\">Get from:{text.prevOwner}</h1>}\r\n               \r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n\r\n</div>\r\n\r\n\r\n</div>)})}\r\n</Fragment>\r\n\r\n\r\n        );\r\n    }\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}